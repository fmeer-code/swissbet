ðŸš€ MVP SPEC â€“ Prediction Intelligence Game (Simplified Version)

â¸»

0. Vision (MVP)

A global, money-free prediction game where users:
	â€¢	Vote YES/NO on real-world questions
	â€¢	See a live percentage graph of crowd belief
	â€¢	Can change their vote anytime before close
	â€¢	Score points based on:
	â€¢	whether they were right or wrong
	â€¢	how many people disagreed with them
	â€¢	how early they made their final choice

Leaderboard = global ranking of SmartScore (start at 0).

â¸»

1. Core Gameplay Loop
	1.	User signs up â†’ chooses username â†’ starts at SmartScore = 0
	2.	Sees list of open markets
	3.	Enters market â†’ sees:
	â€¢	live % YES / % NO
	â€¢	graph over time
	4.	Votes YES or NO
	5.	Can change vote â†’ every change updates final_lock_time
	6.	At close: voting stops
	7.	After outcome known â†’ scoring happens
	8.	SmartScore increases or decreases
	9.	Leaderboard updates

This is the entire addictive loop.

â¸»

2. Scoring System (Final MVP Version)

Since you removed crowd-weighting, we go with pure percentages from all users.

Let:
	â€¢	yes_pct = yes_votes / total_votes
	â€¢	no_pct = 1 - yes_pct

â¸»

2.1. Base scoring (your original idea)

If YES actually happens:
	â€¢	YES voters gain:

base_delta = no_pct * 100


	â€¢	NO voters lose:

base_delta = -yes_pct * 100



If NO happens:
	â€¢	NO voters gain yes_pct * 100
	â€¢	YES voters lose no_pct * 100

This is simple, elegant, and matches your vision exactly.

â¸»

2.2. Early final-lock multiplier (vote order)

We use vote order, not time.

For each user, when the market closes:
	1.	Sort users by final_lock_time (earliest â†’ latest)
	2.	Assign a position (1â€¦N)
	3.	Compute:

vote_percentile = (position - 1) / (N - 1)

	4.	Apply multiplier (MVP tiered system):

if vote_percentile <= 0.01: multiplier = 1.0   # earliest 1%
else if vote_percentile <= 0.10: multiplier = 0.9
else if vote_percentile <= 0.50: multiplier = 0.8
else if vote_percentile <= 0.90: multiplier = 0.7
else: multiplier = 0.5                           # last 10%


â¸»

2.3. Final SmartScore delta

final_delta = base_delta * multiplier
SmartScore_new = SmartScore_old + final_delta

SmartScore starts at 0.

â¸»

2.4. Minimum voters rule

To prevent easy exploits:

A market must have at least 20 voters to be scored.

If fewer â†’ no SmartScore changes.

â¸»

3. Anti-Exploit Logic (Simplified for MVP)

Because you removed weighted voting, keep these protections:

âœ” Score only the final vote, not intermediate votes

Prevents early-lock-then-flip exploits.

âœ” Only count users with a valid login

No anonymous votes.

âœ” Minimum voter threshold (20)

Prevents tiny markets being manipulated.

âœ” Maximum per-market score cap (optional MVP)

If you want:

max_gain = 100 points

You can enable or disable this later.

âœ” Users cannot see who voted what (no manipulation coordination)

â¸»

4. Database Schema (Simplified MVP)

profiles

id (uuid) PK
username (unique)
smart_score (float)  -- start at 0
is_admin (boolean)
created_at


â¸»

markets

id (uuid)
question (text)
description (text)
category (text)
status (open | closed | resolved)
close_time (timestamp)
created_by (uuid)
final_yes_pct (float)
final_no_pct (float)
winning_outcome (yes | no)

created_at


â¸»

votes

id (uuid)
market_id (uuid)
user_id (uuid)
final_choice (yes | no)
final_lock_time (timestamp)

created_at

This table stores only the final position, not history.

â¸»

score_changes (optional but recommended for transparency)

id
market_id
user_id
base_delta
multiplier
final_delta
smart_score_before
smart_score_after
timestamp


â¸»

5. Frontend Screens (MVP)

5.1. /signup
	â€¢	email
	â€¢	password
	â€¢	username (public, unique)
	â€¢	automatically create profile: smart_score = 0

5.2. /

List of open markets:
	â€¢	question
	â€¢	category
	â€¢	closing countdown
	â€¢	current %YES / %NO
	â€¢	click to open

5.3. /market/[id]
	â€¢	question
	â€¢	category
	â€¢	description
	â€¢	big YES / NO buttons
	â€¢	â€œYou chose: YES/NOâ€
	â€¢	Live %YES / %NO
	â€¢	Graph of YES% over time (mandatory MVP)
	â€¢	Change vote
	â€¢	Time left

5.4. /leaderboard
	â€¢	Username
	â€¢	SmartScore
	â€¢	Rank
sorted by SmartScore descending

5.5. /profile/[username]
	â€¢	SmartScore
	â€¢	Rank
	â€¢	Markets participated

5.6. /admin
	â€¢	Create market
	â€¢	Resolve market

â¸»

6. API Endpoints / Server Actions (Simplified)

POST /api/vote

Input: { market_id, choice }
Logic:
	1.	Check market open
	2.	Overwrite vote
	3.	Set final_lock_time = now()

POST /api/admin/create_market

POST /api/admin/resolve_market
	â€¢	Input: outcome
	â€¢	Triggers scoring engine

POST /api/scoring_engine
	â€¢	Run after market resolved
	â€¢	Computes:
	â€¢	yes_pct / no_pct
	â€¢	base_delta
	â€¢	multiplier
	â€¢	final_delta
	â€¢	smart_score updates

â¸»

7. Market Close Flow

close_time reached â†’
  close market (status = closed)
  voting disabled
  show frozen percentages
wait for real outcome â†’
  admin resolves
  run scoring engine
update leaderboard


â¸»

8. Graph of Percentages (MVP Method)

Keep it simple:

Every 10 minutes (or after each vote):

Insert row into a market_snapshots table:

market_id
timestamp
yes_pct
no_pct

The frontend uses these rows to draw the chart with a simple line graph or area graph.

â¸»

9. Deployment Setup

Frontend
	â€¢	Next.js
	â€¢	Tailwind with your dark theme
	â€¢	Server Actions for vote, resolve, etc.

Backend
	â€¢	Supabase (auth + Postgres)

Hosting
	â€¢	Vercel frontend
	â€¢	Supabase backend

â¸»

10. MVP Checklist (Precise Steps)

Phase 1 â€” Foundation
	â€¢	Set up Next.js
	â€¢	Set up Supabase
	â€¢	Create tables (profiles, markets, votes)
	â€¢	Auth (email/password)
	â€¢	Username selection

Phase 2 â€” Market Mechanics
	â€¢	Admin page to create markets
	â€¢	Market listing page
	â€¢	Market detail page with YES/NO buttons
	â€¢	Live % calculation
	â€¢	Graph data model

Phase 3 â€” Voting Logic
	â€¢	Vote endpoint
	â€¢	final_lock_time logic
	â€¢	Change vote logic

Phase 4 â€” Market Closing & Resolution
	â€¢	Close market at close_time
	â€¢	Admin sets outcome
	â€¢	Scoring engine (base + multiplier)
	â€¢	SmartScore update logic

Phase 5 â€” Leaderboard
	â€¢	Simple global leaderboard
	â€¢	Profile page

Phase 6 â€” Polish
	â€¢	Graph of % over time
	â€¢	Dark theme UI
	â€¢	Empty/error states
	â€¢	Security rules (MVP-level)

â¸»

11. What makes this MVP powerful

Even with no weighting or advanced features, you already have:
	â€¢	competition
	â€¢	identity
	â€¢	a dynamic graph
	â€¢	a clever scoring system
	â€¢	early decision strategy
	â€¢	global leaderboard
	â€¢	dopamine loop

Itâ€™s strong enough to attract early users.

â¸»

If you want, I can also:

ðŸ‘‰ generate the SQL migrations
ðŸ‘‰ generate all Next.js pages + code files
ðŸ‘‰ generate the scoring engine (TypeScript)
ðŸ‘‰ mock up the market UI / graph

Just tell me what you want next.